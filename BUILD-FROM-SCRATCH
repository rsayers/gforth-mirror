# Procedures to build gforth from the CVS sources
# created: 2may00jaw

# To build gforth from scratch you need autoconf and automake.
# This file can be used as shell script. If you make the environment
# variable GFORTH point to an existing gforth installation, this
# script takes over kernel and primitve files.

# try to guess a previous version of Gforth

if [ "$GFORTH" == "" ]
then
	GFORTH=`which gforth`
fi

# makes a aclocal.m4 which includes the automake macros for autconf

aclocal

# generate configure script

autoconf

# generate header files like engine/config.h.in

autoheader

# run configure script

./configure $*

# if you have specified a previous Gforth, you can savely run make now
# with FORTHK and FORTHP changed appropriate.

if [ "$GFORTH" != "" ]
then
	make FORTHK="$GFORTH"
fi
